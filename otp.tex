\chapter{Open Telecommunications Platform (OTP)}


An Erlang/\acrshort{otp} \emph{Release} is a versioned set of compiled Applications and their dependencies, metadata, and lifecycle scripts. A Release may include the \acrfull{erts} pinned to a specific version. The applications that make up a Release are started on one Erlang \emph{Node}, which is an \acrshort{os}-level process running the Release on top of the Erlang \acrshort{vm}.

The Erlang/\acrshort{otp} distribution includes the \acrfull{sasl} application, which provides low-level services to help generate, package, and install \acrshort{otp} Releases. Specifically, the \lstinline|systools| module writes boot scripts, release upgrade files (\lstinline|relup|), and release packages (\lstinline|*.tar.gz|); while the \lstinline|release_handler| process is responsible for unpacking and installing a Release onto a running system. Consequently, Erlang/OTP systems that plan to use \acrshort{otp} facilities for hot code replacement must depend on \acrshort{sasl}.


There are ways to perform hot code replacement without using OTP and Releases by interfacing directly with the Erlang Code Server via the low-level \lstinline|code| module using the \lstinline|code:l/1| ("load") and \lstinline|code:nl/1| ("network load") functions. Both take the name of a compiled \lstinline|*.beam| file and load the code into either the current \acrshort{vm} or into all Nodes that are connected via the Erlang Distribution Protocol. Doing so is fine in development, however for production deployments the following issues arise:

\begin{enumerate}
\item No \lstinline|code_change| methods of any \acrshort{otp} behaviors are called when using \lstinline|code:l/1| or \lstinline|code:nl/1|.
\item Modules loaded onto connected Nodes with \lstinline|code:nl/1| is wiped when the remote Node restarts.
\item It's hard to determine what code a given Node is running.
\end{enumerate}


\section{Structure of OTP Applications}

